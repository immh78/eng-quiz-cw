import{_ as R,r as n,c as f,w as r,a as l,b as q,d as s,e as _,f as E,t as N,u as P,o as y,g as $,h as b,i as j,j as B,s as M}from"./index-DNpnvIqS.js";const S={__name:"Register",setup(A){const u=n(""),i=n(""),c=n(""),d=n(!1),m=n(!1),a=n(""),g=P(),w=async()=>{try{m.value=!0,a.value="";const e=(await $(b,u.value,i.value)).user;x(),alert(`환영합니다, ${e.email} 님!`),g.push("/login")}catch(t){switch(console.error(t.code,t.message),t.code){case"auth/email-already-in-use":a.value="이미 등록된 이메일입니다.";break;case"auth/invalid-email":a.value="유효하지 않은 이메일입니다.";break;case"auth/weak-password":a.value="비밀번호는 6자 이상이어야 합니다.";break;default:a.value="회원가입에 실패했습니다."}}finally{m.value=!1}};async function x(){const t={[b.currentUser.uid]:{name:c.value,email:u.value}},e=j(B,"user");await M(e,t).then(()=>{console.log("User data saved successfully.")}).catch(v=>{console.error("Error saving user data:",v)})}return(t,e)=>{const v=s("v-card-title"),p=s("v-text-field"),V=s("v-btn"),k=s("v-form"),h=s("v-alert"),U=s("v-card"),C=s("v-container");return y(),f(C,{class:"d-flex align-center justify-center fill-height"},{default:r(()=>[l(U,{width:"400",class:"pa-6"},{default:r(()=>[l(v,{class:"text-h5 text-center"},{default:r(()=>e[4]||(e[4]=[_("회원가입")])),_:1,__:[4]}),l(k,{onSubmit:E(w,["prevent"])},{default:r(()=>[l(p,{modelValue:c.value,"onUpdate:modelValue":e[0]||(e[0]=o=>c.value=o),label:"이름","prepend-inner-icon":"mdi-account",type:"text",required:""},null,8,["modelValue"]),l(p,{modelValue:u.value,"onUpdate:modelValue":e[1]||(e[1]=o=>u.value=o),label:"Email","prepend-inner-icon":"mdi-email",type:"email",required:""},null,8,["modelValue"]),l(p,{modelValue:i.value,"onUpdate:modelValue":e[2]||(e[2]=o=>i.value=o),label:"Password","prepend-inner-icon":"mdi-lock",type:d.value?"text":"password","append-icon":d.value?"mdi-eye-off":"mdi-eye","onClick:append":e[3]||(e[3]=o=>d.value=!d.value),required:""},null,8,["modelValue","type","append-icon"]),l(V,{loading:m.value,color:"primary",class:"mt-4",type:"submit",block:""},{default:r(()=>e[5]||(e[5]=[_(" 회원가입 ")])),_:1,__:[5]},8,["loading"])]),_:1}),a.value?(y(),f(h,{key:0,type:"error",class:"mt-4",dense:""},{default:r(()=>[_(N(a.value),1)]),_:1})):q("",!0)]),_:1})]),_:1})}}},I=R(S,[["__scopeId","data-v-61fabbcc"]]);export{I as default};
