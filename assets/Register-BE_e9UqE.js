import{_ as R,r as n,c as f,w as r,a as l,b as q,d as o,e as _,f as E,t as N,u as P,o as y,g as $,h as g,i as j,j as B}from"./index-DekRJf9b.js";const M={__name:"Register",setup(S){const u=n(""),i=n(""),c=n(""),d=n(!1),m=n(!1),a=n(""),w=P(),b=async()=>{try{m.value=!0,a.value="";const e=(await $(g,u.value,i.value)).user;x(),alert(`환영합니다, ${e.email} 님!`),w.push("/login")}catch(t){switch(console.error(t.code,t.message),t.code){case"auth/email-already-in-use":a.value="이미 등록된 이메일입니다.";break;case"auth/invalid-email":a.value="유효하지 않은 이메일입니다.";break;case"auth/weak-password":a.value="비밀번호는 6자 이상이어야 합니다.";break;default:a.value="회원가입에 실패했습니다."}}finally{m.value=!1}};async function x(){const t={[g.currentUser.uid]:{name:c.value,email:u.value}},e=j(B,"user");await update(e,t).then(()=>{console.log("User data saved successfully.")}).catch(p=>{console.error("Error saving user data:",p)})}return(t,e)=>{const p=o("v-card-title"),v=o("v-text-field"),V=o("v-btn"),k=o("v-form"),h=o("v-alert"),U=o("v-card"),C=o("v-container");return y(),f(C,{class:"d-flex align-center justify-center fill-height"},{default:r(()=>[l(U,{width:"400",class:"pa-6"},{default:r(()=>[l(p,{class:"text-h5 text-center"},{default:r(()=>e[4]||(e[4]=[_("회원가입")])),_:1,__:[4]}),l(k,{onSubmit:E(b,["prevent"])},{default:r(()=>[l(v,{modelValue:c.value,"onUpdate:modelValue":e[0]||(e[0]=s=>c.value=s),label:"이름","prepend-inner-icon":"mdi-account",type:"text",required:""},null,8,["modelValue"]),l(v,{modelValue:u.value,"onUpdate:modelValue":e[1]||(e[1]=s=>u.value=s),label:"Email","prepend-inner-icon":"mdi-email",type:"email",required:""},null,8,["modelValue"]),l(v,{modelValue:i.value,"onUpdate:modelValue":e[2]||(e[2]=s=>i.value=s),label:"Password","prepend-inner-icon":"mdi-lock",type:d.value?"text":"password","append-icon":d.value?"mdi-eye-off":"mdi-eye","onClick:append":e[3]||(e[3]=s=>d.value=!d.value),required:""},null,8,["modelValue","type","append-icon"]),l(V,{loading:m.value,color:"primary",class:"mt-4",type:"submit",block:""},{default:r(()=>e[5]||(e[5]=[_(" 회원가입 ")])),_:1,__:[5]},8,["loading"])]),_:1}),a.value?(y(),f(h,{key:0,type:"error",class:"mt-4",dense:""},{default:r(()=>[_(N(a.value),1)]),_:1})):q("",!0)]),_:1})]),_:1})}}},D=R(M,[["__scopeId","data-v-013a52de"]]);export{D as default};
